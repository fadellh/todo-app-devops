stages:
    - test-be
    - build-be

test be:
    stage: test-be  
    image: golang:1.18
    tags:
        - gcp-go
    before_script:
        - go version
        - cd todo-be
    script:
        - echo "testing"
        - go test ./... -coverprofile=coverage.out

build be:
    stage: build-be
    image: docker.io/golang:alpine3.16
    tags:
        - gcp-shell
    script:
        - echo "I am a build image!"
        - pwd
        - ls
        - docker build -t todo-be:latest ./todo-be



